<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>E-LogBook</title>
  <style>
* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
  font-family: "Poppins", sans-serif;
}

body {
  background: linear-gradient(135deg, #ffffff 70%, #f8f8f8);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}

/* Layout Wrapper */
.container {
  display: flex;
  justify-content: space-between;
  align-items: center;
  width: 95%;
  max-width: 1500px;
  min-height: 90vh;
  gap: 2rem;
}

/* LEFT SECTION */
.left {
  flex: 1.2;
  display: flex;
  flex-direction: column;
  gap: 1.5rem;
}

.main-image {
  width: 100%;
  height: 55%;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 8px 20px rgba(0,0,0,0.15);
}

.main-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

.small-gallery {
  display: flex;
  justify-content: space-between;
  gap: 1rem;
  height: 35%;
}

.small-gallery .card {
  flex: 1;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 6px 16px rgba(0,0,0,0.1);
  transition: transform 0.3s ease;
}

.small-gallery .card:hover {
  transform: scale(1.05);
}

.small-gallery img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* RIGHT SECTION */
.right {
  flex: 0.8;
  display: flex;
  flex-direction: column;
  justify-content: center;
  padding-right: 3rem;
  gap: 2rem;
}

.right h2 {
  font-size: 1.6rem;
  color: #d63384;
}

.right h1 {
  font-size: 3.5rem;
  font-weight: 800;
  color: #111;
}

.right h1 span {
  color: #d63384;
}

.right p {
  font-size: 1.1rem;
  color: #666;
  font-weight: 600;
}

/* BUTTON CARDS */
.card-option {
  width: 100%;
  border-radius: 18px;
  padding: 1.8rem 2rem;
  display: flex;
  justify-content: space-between;
  align-items: center;
  color: #fff;
  font-weight: 600;
  cursor: pointer;
  transition: 0.3s ease;
  box-shadow: 0 10px 25px rgba(0,0,0,0.15);
}

.card-option:hover {
  transform: scale(1.03);
}

.register {
  background: linear-gradient(135deg, #f6a623, #f39c12);
}

.checkin {
  background: linear-gradient(135deg, #e53935, #c62828);
}

.card-text {
  display: flex;
  flex-direction: column;
  gap: 0.3rem;
}

.card-text h3 {
  font-size: 1.4rem;
}

.card-text p {
  font-size: 1rem;
  opacity: 0.9;
}

.card-option img {
  width: 80px;
  height: 100px;
  object-fit: contain;
}

/* MODAL */
.modal {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  visibility: hidden;
  opacity: 0;
  transition: 0.3s ease;
}

.modal.active {
  visibility: visible;
  opacity: 1;
}

.modal-content {
  background: #fff;
  padding: 2.5rem;
  border-radius: 15px;
  width: 90%;
  max-width: 450px;
  text-align: center;
  animation: pop 0.4s ease;
}

@keyframes pop {
  from { transform: scale(0.85); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

/* === RESPONSIVENESS === */

/* Tablets & Small Laptops */
@media (max-width: 1100px) {
  .container {
    flex-direction: column;
    min-height: auto;
    padding: 2rem 0;
  }

  .left,
  .right {
    width: 100%;
  }

  .right {
    padding-right: 0;
    text-align: center;
  }

  .right h1 {
    font-size: 2.5rem;
  }

  .right h2 {
    font-size: 1.3rem;
  }

  .card-option img {
    width: 60px;
    height: 80px;
  }

  .small-gallery {
    height: auto;
  }

  .small-gallery .card {
    height: 150px;
  }
}

/* Mobile Portrait */
@media (max-width: 700px) and (orientation: portrait) {
  body {
    overflow-y: auto;
  }

  .container {
    gap: 1rem;
  }

  .main-image {
    height: 250px;
  }

  .small-gallery {
    flex-direction: row;
    height: 90px;
  }

  .small-gallery .card {
    height: 90px;
  }

  .right h1 {
    font-size: 2rem;
  }

  .card-option {
    padding: 1.2rem;
  }

  .card-text h3 {
    font-size: 1.1rem;
  }

  .card-option img {
    width: 50px;
    height: 65px;
  }
}

/* Mobile Landscape */
@media (max-width: 900px) and (orientation: landscape) {
  .container {
    flex-direction: row;
    gap: 1rem;
  }

  .right h1 {
    font-size: 2rem;
  }

  .main-image {
    height: 200px;
  }

  .small-gallery {
    height: 120px;
  }

  .card-option img {
    width: 60px;
    height: 80px;
  }
}

    .modal-content input,
.modal-content button {
  width: 100%;
  padding: 12px;
  margin: 10px 0;
  border: 1px solid #ccc;
  border-radius: 8px;
  font-size: 1rem;
}

.submit-btn {
  background: #d63384;
  color: white;
  border: none;
  cursor: pointer;
  font-weight: 600;
  transition: 0.3s ease;
}

.submit-btn:hover {
  background: #b0266a;
}

    .modal-content form {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* === LOADING OVERLAY === */
#loadingOverlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(255, 255, 255, 0.85);
  display: flex;
  justify-content: center;
  align-items: center;
  visibility: hidden;
  opacity: 0;
  transition: 0.3s ease-in-out;
  z-index: 9999;
}

#loadingOverlay.active {
  visibility: visible;
  opacity: 1;
}

/* Spinner */
.loader {
  width: 70px;
  height: 70px;
  border: 6px solid #d63384;
  border-top-color: transparent;
  border-radius: 50%;
  animation: spin 0.8s linear infinite;
}

@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}

    
</style>

  
</head>
<body>
  <div class="container">

    <!-- LEFT SIDE IMAGES -->
    <div class="left">
      <div class="main-image">
        <img src="Meta 3.0.png" alt="Main Hall">
      </div>
      <div class="small-gallery">
        <div class="card"><img src="https://images.unsplash.com/photo-1551836022-d5d88e9218df?auto=format&fit=crop&w=500&q=80" alt="Hall 1"></div>
        <div class="card"><img src="https://images.unsplash.com/photo-1503428593586-e225b39bddfe?auto=format&fit=crop&w=800&q=80" alt="Hall 2"></div>
        <div class="card"><img src="https://images.unsplash.com/photo-1485217988980-11786ced9454?auto=format&fit=crop&w=500&q=80" alt="Hall 3"></div>
      </div>
    </div>

    <!-- RIGHT SIDE CONTENT -->
    <div class="right">
      <h2>IMPACT WORLD | METAMORPHOSIS 3.O</h2>
      

      <div class="card-option register" onclick="openModal('register')">
        <div class="card-text">
          <h3>New Registration</h3>
          <p>New Guest & First-time Participant</p>
        </div>
        <img src="https://cdn-icons-png.flaticon.com/512/9131/9131529.png" alt="New Registration">
      </div>

      <div class="card-option checkin" onclick="openModal('login')">
        <div class="card-text">
          <h3>Registered Already</h3>
          <p>Confirm with your ID (5-digit code)</p>
        </div>
        <img src="https://cdn-icons-png.flaticon.com/512/1256/1256650.png" alt="Check-in">
      </div>
    </div>
  </div>

  <!-- Registration Modal -->
  <div class="modal" id="registerModal">
    <div class="modal-content">
      <h2>New Registration</h2>
      <form id="registerForm">
        <input type="text" id="name" placeholder="Full Name" required />
        <input type="tel" id="phone" placeholder="Phone Number" required />
        <input type="email" id="email" placeholder="Email Address" />
        <button type="submit" class="submit-btn">Submit</button>
      </form>
    </div>
  </div>

  <!-- Check-In Modal -->
  <div class="modal" id="loginModal">
    <div class="modal-content">
      <h2>Already Registered</h2>
      <form id="loginForm">
        <input type="text" id="checkId" placeholder="Enter ID (5-digit code)" required />
        <button type="submit" class="submit-btn">Check In</button>
      </form>
    </div>
  </div>

  <!-- Loading Overlay -->
<div id="loadingOverlay" style="
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
  visibility: hidden;
  opacity: 0;
  transition: 0.3s ease;
  z-index: 9999;
">
  <div style="
    width: 80px;
    height: 80px;
    border: 7px solid #fff;
    border-top-color: #d63384;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  "></div>
</div>

<style>
@keyframes spin {
  from { transform: rotate(0deg); }
  to { transform: rotate(360deg); }
}
</style>

<script>
const registerModal = document.getElementById("registerModal");
const loginModal = document.getElementById("loginModal");
const loadingOverlay = document.getElementById("loadingOverlay");

function openModal(type) {
  if (type === "register") registerModal.classList.add("active");
  else loginModal.classList.add("active");
}

window.onclick = function (event) {
  if (event.target === registerModal) registerModal.classList.remove("active");
  if (event.target === loginModal) loginModal.classList.remove("active");
};

const scriptURL = "https://script.google.com/macros/s/AKfycbyxWedXKetKRN1MqS0zDXBcrRba0TzP8VyzZ9rVke4BZUNAkQQN1Vs5-QhOg6_TpY4KGg/exec";

// === SHOW LOADING ===
function showLoading() {
  loadingOverlay.style.visibility = "visible";
  loadingOverlay.style.opacity = "1";
}

// === HIDE LOADING ===
function hideLoading() {
  loadingOverlay.style.opacity = "0";
  setTimeout(() => {
    loadingOverlay.style.visibility = "hidden";
  }, 300);
}

// === REGISTER FORM ===
document.getElementById("registerForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  showLoading();

  const name = document.getElementById("name").value;
  const phone = document.getElementById("phone").value;
  const email = document.getElementById("email").value;
  const uniqueId = Math.floor(10000 + Math.random() * 90000);

  try {
    await fetch(scriptURL, {
      method: "POST",
      mode: "no-cors",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ action: "register", name, phone, email, id: uniqueId })
    });

    hideLoading();
    alert(`Registration Complete! Your ID is ${uniqueId}`);
    registerModal.classList.remove("active");
    document.getElementById("registerForm").reset();

  } catch (error) {
    hideLoading();
    alert("Error submitting form. Please try again.");
  }
});

// === CHECK-IN FORM ===
document.getElementById("loginForm").addEventListener("submit", async (e) => {
  e.preventDefault();
  showLoading();

  const checkId = document.getElementById("checkId").value;

  try {
    await fetch(scriptURL, {
      method: "POST",
      mode: "no-cors",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify({ action: "checkin", checkId })
    });

    hideLoading();
    alert("Check-in successful!");
    loginModal.classList.remove("active");
    document.getElementById("loginForm").reset();

  } catch (error) {
    hideLoading();
    alert("Error checking in. Please try again.");
  }
});
</script>

  
  <div id="loadingOverlay">
  <div class="loader"></div>
</div>

</body>

</html>










